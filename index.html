<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fake Draggable Scrollbar</title>
  <style>
    body {
      font-family: sans-serif;
   
    }

    .scroll-wrapper {
      width: 100%;
      position: relative;
      padding-bottom: 20px;
    
      margin: auto;
    }

    .scroll-container {
      overflow-x: scroll;
      white-space: nowrap;
      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
      padding-bottom: 4px;
      scrollbar-width: none; /* Firefox */
    }

    .scroll-container::-webkit-scrollbar {
      display: none; /* Chrome, Safari */
    }

    .item {
      display: inline-block;
      min-width: 150px;
      height: 50px;
      background: lightgray;
      margin-right: 10px;
      text-align: center;
      line-height: 50px;
      border-radius: 6px;
      font-weight: bold;
    }

    .scrollbar-track {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 6px;
      width: 100%;
      background: #ddd;
      border-radius: 4px;
      overflow: hidden;
      cursor: pointer;
    }

    .scrollbar-thumb {
      height: 100%;
      background: #888;
      border-radius: 4px;
      transform: translateX(0px);
      cursor: grab;
    }

    .scrollbar-thumb:active {
      cursor: grabbing;
    }
  </style>
</head>
<body>

<div class="scroll-wrapper">
  <!-- Scrollable content -->
  <div class="scroll-container" id="scrollContainer">
    <!-- Generated by JS -->
  </div>

  <!-- Fake draggable scrollbar -->
  <div class="scrollbar-track" id="scrollTrack">
    <div class="scrollbar-thumb" id="scrollThumb"></div>
  </div>
</div>

<script>
  const scrollContainer = document.getElementById('scrollContainer')
  const scrollThumb = document.getElementById('scrollThumb')
  const scrollTrack = document.getElementById('scrollTrack')

  // ✅ สร้างรายการ
  for (let i = 1; i <= 5; i++) {
    const div = document.createElement('div')
    div.className = 'item'
    div.textContent = `Item ${i}`
    scrollContainer.appendChild(div)
  }

  let isDragging = false
  let startX, startScrollLeft

  // ✅ อัปเดต scrollbar thumb
  function updateFakeScroll() {
    const scrollWidth = scrollContainer.scrollWidth
    const clientWidth = scrollContainer.clientWidth
    const scrollLeft = scrollContainer.scrollLeft

    const thumbWidth = (clientWidth / scrollWidth) * clientWidth
    scrollThumb.style.width =`${thumbWidth}px`

    const maxScroll = scrollWidth - clientWidth
    const maxThumbMove = clientWidth - thumbWidth
    const thumbLeft = (scrollLeft / maxScroll) * maxThumbMove

    scrollThumb.style.transform =` translateX(${thumbLeft}px)`
  }

  scrollContainer.addEventListener('scroll', updateFakeScroll)
  window.addEventListener('resize', updateFakeScroll)
  updateFakeScroll()

  // ✅ drag scrollbar thumb
  scrollThumb.addEventListener('mousedown', (e) => {
    isDragging = true
    startX = e.clientX
    startScrollLeft = scrollContainer.scrollLeft
    scrollThumb.style.cursor = 'grabbing'
    e.preventDefault()
  })

  document.addEventListener('mousemove', (e) => {
    if (!isDragging) return
    const dx = e.clientX - startX
    const scrollWidth = scrollContainer.scrollWidth
    const clientWidth = scrollContainer.clientWidth
    const maxScroll = scrollWidth - clientWidth

    const thumbWidth = (clientWidth / scrollWidth) * clientWidth
    const maxThumbMove = clientWidth - thumbWidth

    const scrollAmount = (dx / maxThumbMove) * maxScroll
    scrollContainer.scrollLeft = startScrollLeft + scrollAmount
  })

  document.addEventListener('mouseup', () => {
    isDragging = false
    scrollThumb.style.cursor = 'grab'
  })
</script>

</body>
</html>
